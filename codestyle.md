# 前端代码规范

## 规范来源
本规范主要基于以下官方标准和行业最佳实践：
- [Airbnb JavaScript 风格指南](https://github.com/airbnb/javascript)
- [Google HTML/CSS 风格指南](https://google.github.io/styleguide/)
- [W3C HTML 规范](https://html.spec.whatwg.org/)
- [MDN Web 开发文档](https://developer.mozilla.org/zh-CN/docs/Web)

## 1. HTML 规范

### 1.1 文档结构
- 使用 HTML5 标准文档结构
- 始终声明文档类型 `<!DOCTYPE html>`
- 明确指定语言属性 `<html lang="zh-CN">`
- 使用 UTF-8 编码 `<meta charset="UTF-8">`
- 包含响应式视口设置 `<meta name="viewport" content="width=device-width, initial-scale=1.0">`

### 1.2 标签使用
- 使用语义化标签（`<header>`, `<nav>`, `<main>`, `<section>`, `<article>`, `<footer>` 等）
- 标签名使用小写字母
- 自闭合标签不使用斜杠（`<img>`, `<input>`, `<meta>` 等）
- 避免不必要的标签嵌套

### 1.3 属性规范
- 属性名使用小写字母
- 使用双引号 `"` 而非单引号 `'` 包裹属性值
- 布尔属性不添加值（`<input type="checkbox" checked>`）
- 自定义数据属性使用 `data-` 前缀
- 避免使用内联事件处理程序（`onclick`, `onload` 等）

### 1.4 可访问性
- 添加适当的 `alt` 属性描述图像内容
- 使用 `label` 标签关联表单控件
- 确保页面具有合理的标题层级（h1-h6）
- 为交互元素添加适当的 ARIA 属性

## 2. CSS 规范

### 2.1 格式
- 使用 2 个空格缩进
- 每个选择器独占一行
- 声明块的大括号 `{` 与选择器在同一行
- 每个声明独占一行
- 声明结束使用分号 `;`
- 右大括号 `}` 独占一行
- 属性名和值之间使用一个空格分隔
- 十六进制颜色使用小写字母

### 2.2 选择器
- 使用类选择器优先于 ID 选择器
- 避免使用通用选择器 `*`
- 避免使用标签名限定选择器（`.content div` 应改为 `.content-block`）
- 选择器嵌套不超过 3 层
- 使用有意义的类名，采用 BEM 命名约定（`block__element--modifier`）

### 2.3 属性
- 使用缩写属性（`margin`, `padding`, `border` 等）
- 颜色值优先使用十六进制（`#fff`）或 RGB/RGBA
- 长度值为 0 时省略单位（`margin: 0` 而非 `margin: 0px`）
- 字体单位使用 `px` 或 `rem`
- 避免使用 `!important`

### 2.4 组织
- 按功能或组件组织 CSS
- 相关样式放在一起
- 使用注释分隔不同部分
- 避免重复样式，使用变量或混合（如使用预处理器）

## 3. JavaScript 规范

### 3.1 变量声明
- 使用 `const` 或 `let` 声明变量，避免使用 `var`
- 优先使用 `const`，仅在需要重新赋值时使用 `let`
- 变量名使用驼峰式命名（`camelCase`）
- 常量使用全大写和下划线分隔（`MAX_COUNT`）
- 每个变量声明独占一行

### 3.2 函数
- 函数名使用驼峰式命名
- 构造函数使用帕斯卡式命名（`PascalCase`）
- 使用箭头函数（`=>`）替代匿名函数表达式
- 函数参数使用默认值而非条件检查
- 函数体保持简洁，单一职责
- 避免使用 `arguments` 对象，使用剩余参数（`...`）

### 3.3 对象和数组
- 对象字面量使用简洁语法（`{ x, y }` 而非 `{ x: x, y: y }`）
- 使用对象解构获取属性值
- 使用数组解构获取数组元素
- 使用扩展运算符（`...`）复制数组和对象
- 使用 `Array.from()` 或扩展运算符将类数组对象转换为数组
- 使用 `Array.prototype.map()`, `filter()`, `reduce()` 等方法处理数组

### 3.4 字符串
- 使用单引号 `'` 定义字符串
- 多行字符串使用模板字符串（`` `...` ``）
- 字符串连接使用模板字符串而非 `+` 运算符
- 避免不必要的字符串转换

### 3.5 控制流
- 使用严格相等运算符（`===`）和不相等运算符（`!==`）
- `if-else` 语句的块使用大括号包裹
- 三元运算符仅用于简单条件
- 避免使用 `switch` 语句，优先使用对象字面量或策略模式
- 使用 `for...of` 循环遍历数组
- 使用 `Object.keys()`, `Object.values()`, `Object.entries()` 遍历对象

### 3.6 错误处理
- 使用 `try-catch` 捕获和处理异常
- 抛出具体的错误类型
- 错误信息应清晰描述问题
- 避免空的 `catch` 块

### 3.7 异步编程
- 使用 `async/await` 替代回调函数和 `Promise` 链
- 正确处理异步操作中的错误
- 使用 `Promise.all()` 并行执行多个异步操作
- 避免回调地狱

### 3.8 最佳实践
- 代码应具有可读性和可维护性
- 避免全局变量
- 减少 DOM 操作，使用事件委托
- 使用事件监听器而非内联事件
- 避免使用 `eval()` 和 `with`
- 使用模块化组织代码
- 为代码添加适当的注释
- 避免重复代码，提取公共函数

## 4. 文件和项目结构
- 使用有意义的文件名
- 按功能或组件组织文件
- 使用一致的文件命名约定
- 分离 HTML、CSS 和 JavaScript 代码
- 使用相对路径引用资源

## 5. 性能优化
- 减少 HTTP 请求
- 压缩和合并 CSS/JavaScript 文件
- 使用延迟加载技术
- 优化图像资源
- 避免阻塞渲染的 JavaScript
- 使用适当的缓存策略

## 6. 代码审查清单
- 代码是否符合本规范
- 代码是否具有可读性
- 代码是否有适当的注释
- 是否存在重复代码
- 是否存在性能问题
- 是否存在安全隐患
- 是否考虑了可访问性
